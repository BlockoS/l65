require 'scv'
location(0x8000, 0x8FFF)
section{"rom", org=0x8000}
    dc.b 'H'
@main
    block 
    calb
    ei
    daa
    di
    ex
    exx
    halt
    jb
    nop
    ret
    reti
    rets
    sio
    softi
    stm
    table
    dcr a
    dcr b
    dcr c
    inr a
    inr b
    inr c
    dcx sp
    inx sp
    mvi a,0xca
    mvi b,0xfe
    mvi c,0xbe
    mvi d,0xef
    mvi e,0xf0
    mvi h,0x0d
    mvi l,0x78
    mvi v,0x01
    aci a,0x0f
    adi a,0x1e
    adinc a,0x2d
    ani a,0x3c
    eqi a,0x4b
    gti a,0x5a
    lti a,0x69
    nei a,0x87
    offi a,0x96
    oni a,0xa5
    ori a,0xb4
    sbi a,0xc3
    sui a,0xd2
    suinb a,0xe1
    xri a,0xf0
    lxi bc,0xabcd
    lxi de,0xbeef
    lxi hl,0xcafe
    lxi sp,0xf00d
    call 0xd701
    jmp 0x8e07
    clc
    pen
    per
    pex
    rld
    rrd
    stc
    mov a,b
    mov a,c
    mov a,d
    mov a,e
    mov a,h
    mov a,l
    mov b,a
    mov c,a
    mov d,a
    mov e,a
    mov h,a
    mov l,a
@l0 jre l0
@l1 nop
    jre l1
@l2 nop nop
    jre l2
@l3 nop nop nop
    jre l3
@l4 nop nop nop nop
    jre l4
    jre l5
@l5 jre l6
    nop
@l6 jre l7
    nop nop
@l7 jre l8
    nop nop nop
@l8 jre l9
    nop nop nop nop
@l9
    ldax (bc) 
    ldax (de)
    ldax (hl)
    stax (bc)
    stax (de)
    stax (hl)
    inrw (v,0x01)
    ldaw (v,0x23)
    dcrw (v,0x45)
    staw (v,0x67)
    bit0 (v,0x89)
    bit1 (v,0xab)
    bit2 (v,0xcd)
    bit3 (v,0xef)
    bit4 (v,0xfe)
    bit5 (v,0xdc)
    bit6 (v,0xba)
    bit7 (v,0x98)
    dcx bc
    dcx de
    dcx hl
    inx bc
    inx de
    inx hl
    mvix (bc),0xf9
    mvix (de),0xe8
    mvix (hl),0xd7
    mviw (v,0x9a),0x3f
    eqiw (v,0xc5),0x1b
    ldaxd (de)
    ldaxi (de)
    ldaxd (hl)
    ldaxi (hl)
    staxd (de)
    staxi (de)
    staxd (hl)
    staxi (hl)
    push bc
    push de
    push hl
    pop hl
    pop de
    pop bc
    push va
    pop va
    rll a
    rlr a
    rll c
    rlr c
    sll a
    slr a
    sll c
    slr c
    skc
    skz
    sknc
    sknz
    skit f0
    skit ft
    skit f1
    skit f2
    skit fs
    sknit f0
    sknit ft
    sknit f1
    sknit f2
    sknit fs
    in 0x00
    in 0xa7
    in 0xbf
    out 0x00
    out 0x5a
    out 0xbf
    mov a,pa
    mov a,pb
    mov a,pc
    mov a,mk
    mov a,mb
    mov a,mc
    mov a,tm0
    mov a,tm1
    mov a,s
    mov pa,a
    mov pb,a
    mov pc,a
    mov mk,a
    mov mb,a
    mov mc,a
    mov tm0,a
    mov tm1,a
    mov s,a
	ana v,a
	ana a,a
	ana b,a
	ana c,a
	ana d,a
	ana e,a
	ana h,a
	ana l,a
	xra v,a
	xra a,a
	xra b,a
	xra c,a
	xra d,a
	xra e,a
	xra h,a
	xra l,a
	ora v,a
	ora a,a
	ora b,a
	ora c,a
	ora d,a
	ora e,a
	ora h,a
	ora l,a
	addnc v,a
	addnc a,a
	addnc b,a
	addnc c,a
	addnc d,a
	addnc e,a
	addnc h,a
	addnc l,a
	gta v,a
	gta a,a
	gta b,a
	gta c,a
	gta d,a
	gta e,a
	gta h,a
	gta l,a
	subnb v,a
	subnb a,a
	subnb b,a
	subnb c,a
	subnb d,a
	subnb e,a
	subnb h,a
	subnb l,a
	lta v,a
	lta a,a
	lta b,a
	lta c,a
	lta d,a
	lta e,a
	lta h,a
	lta l,a
	add v,a
	add a,a
	add b,a
	add c,a
	add d,a
	add e,a
	add h,a
	add l,a
	adc v,a
	adc a,a
	adc b,a
	adc c,a
	adc d,a
	adc e,a
	adc h,a
	adc l,a
	sub v,a
	sub a,a
	sub b,a
	sub c,a
	sub d,a
	sub e,a
	sub h,a
	sub l,a
	nea v,a
	nea a,a
	nea b,a
	nea c,a
	nea d,a
	nea e,a
	nea h,a
	nea l,a
	sbb v,a
	sbb a,a
	sbb b,a
	sbb c,a
	sbb d,a
	sbb e,a
	sbb h,a
	sbb l,a
	eqa v,a
	eqa a,a
	eqa b,a
	eqa c,a
	eqa d,a
	eqa e,a
	eqa h,a
	eqa l,a
	ana a,v
	ana a,a
	ana a,b
	ana a,c
	ana a,d
	ana a,e
	ana a,h
	ana a,l
	xra a,v
	xra a,a
	xra a,b
	xra a,c
	xra a,d
	xra a,e
	xra a,h
	xra a,l
	ora a,v
	ora a,a
	ora a,b
	ora a,c
	ora a,d
	ora a,e
	ora a,h
	ora a,l
	addnc a,v
	addnc a,a
	addnc a,b
	addnc a,c
	addnc a,d
	addnc a,e
	addnc a,h
	addnc a,l
	gta a,v
	gta a,a
	gta a,b
	gta a,c
	gta a,d
	gta a,e
	gta a,h
	gta a,l
	subnb a,v
	subnb a,a
	subnb a,b
	subnb a,c
	subnb a,d
	subnb a,e
	subnb a,h
	subnb a,l
	lta a,v
	lta a,a
	lta a,b
	lta a,c
	lta a,d
	lta a,e
	lta a,h
	lta a,l
	add a,v
	add a,a
	add a,b
	add a,c
	add a,d
	add a,e
	add a,h
	add a,l
	ona a,v
	ona a,a
	ona a,b
	ona a,c
	ona a,d
	ona a,e
	ona a,h
	ona a,l
	adc a,v
	adc a,a
	adc a,b
	adc a,c
	adc a,d
	adc a,e
	adc a,h
	adc a,l
	offa a,v
	offa a,a
	offa a,b
	offa a,c
	offa a,d
	offa a,e
	offa a,h
	offa a,l
	sub a,v
	sub a,a
	sub a,b
	sub a,c
	sub a,d
	sub a,e
	sub a,h
	sub a,l
	nea a,v
	nea a,a
	nea a,b
	nea a,c
	nea a,d
	nea a,e
	nea a,h
	nea a,l
	sbb a,v
	sbb a,a
	sbb a,b
	sbb a,c
	sbb a,d
	sbb a,e
	sbb a,h
	sbb a,l
	eqa a,v
	eqa a,a
	eqa a,b
	eqa a,c
	eqa a,d
	eqa a,e
	eqa a,h
	eqa a,l
   
writebin(filename .. '.bin')